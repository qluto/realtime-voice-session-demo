# Repository Guidelines

## Project Structure & Module Organization
The realtime coach UI lives in `src/`. `main.ts` wires DOM state into the page, while `voice-agent.ts` orchestrates the RealtimeAgent session. Shared telemetry and UI helpers sit under `src/utils/` and include logger, usage tracker, timers, and speaking animation utilities. Styling resides in `src/style.css`, and static assets belong in `public/`. Use `docs/` for long-form explainers, and keep build outputs confined to `dist/` (generated by Vite). The token broker lives in `server.js`, with `generate-token.js` as a CLI fallback.

## Build, Test, and Development Commands
- `npm run dev`: start the Vite frontend on http://localhost:5173.
- `npm run server`: launch the local Express token broker on port 3001.
- `npm run dev:full`: run both frontend and broker via `concurrently` for full-stack manual testing.
- `npm run build`: run TypeScript checks and produce a production bundle in `dist/`.
- `npm run preview`: serve the built bundle for smoke testing.

## Coding Style & Naming Conventions
Write TypeScript modules using ES imports with explicit `.ts` extensions. Follow the repository’s two-space indentation and no-semicolon formatting. Prefer descriptive camelCase for variables and functions, PascalCase for exported types, and kebab-case for DOM ids/classes to match `src/style.css`. Keep utility filenames aligned with existing patterns (`conversation-logger.ts`, etc.), and resolve unused symbol warnings rather than suppressing them.

## Testing Guidelines
Automated tests are not configured. After changes, run `npm run dev:full`, open the UI, and confirm the conversation log and session timer update as expected. When modifying cost calculations, inspect console usage dumps for regressions. If you add tests, colocate them as `*.test.ts` beside their source and document the new command in this guide.

## Commit & Pull Request Guidelines
Use concise, imperative commit messages mirroring existing history (example: `Add session timer HUD`). For PRs, include a summary of behavior changes, link related issues, list manual verification steps, and attach screenshots or console output for UI updates.

## Security & Configuration Tips
Create a local `.env` defining `OPENAI_API_KEY=…` and never commit it. Export the variable when running `server.js` or `generate-token.js`, and regenerate ephemeral tokens for each session; avoid pasting tokens into logs or commits.
